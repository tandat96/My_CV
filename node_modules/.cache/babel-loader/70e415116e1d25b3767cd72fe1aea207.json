{"ast":null,"code":"import _defineProperty from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\my_project\\\\My_CV\\\\src\\\\components\\\\Signup.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signup, _Component);\n\n  function Signup() {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this));\n    _this.state = {\n      username: '',\n      password: '',\n      confirmPassword: ''\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      console.log('sign-up handleSubmit, username: ');\n      console.log(this.state.username);\n      event.preventDefault(); //request to server to add a new username/password\n\n      axios.post('/users/signup', {\n        username: this.state.username,\n        password: this.state.password\n      }).then(function (response) {\n        console.log(response);\n\n        if (!response.data.errmsg) {\n          console.log('successful signup');\n\n          _this2.setState({\n            //redirect to login page\n            redirectTo: '/login'\n          });\n        } else {\n          console.log('username already taken');\n        }\n      }).catch(function (error) {\n        console.log('signup error: ');\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectTo) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: \"login-style card-inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"Sign Up\"), React.createElement(\"form\", {\n          method: \"POST\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          required: \"required\",\n          value: this.state.username,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          required: \"required\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block btn-large\",\n          name: true,\n          value: \"Login\",\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Signup\")));\n      }\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport default Signup;","map":{"version":3,"sources":["D:\\my_project\\My_CV\\src\\components\\Signup.js"],"names":["React","Component","axios","Signup","state","username","password","confirmPassword","handleSubmit","bind","handleChange","event","setState","target","name","value","console","log","preventDefault","post","then","response","data","errmsg","redirectTo","catch","error","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nclass Signup extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tconfirmPassword: '',\r\n\r\n\t\t}\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\r\n\t\tthis.handleChange = this.handleChange.bind(this)\r\n\t}\r\n\thandleChange(event) {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t})\r\n\t}\r\n\thandleSubmit(event) {\r\n\t\tconsole.log('sign-up handleSubmit, username: ')\r\n\t\tconsole.log(this.state.username)\r\n\t\tevent.preventDefault()\r\n\r\n\t\t//request to server to add a new username/password\r\n\t\taxios.post('/users/signup', {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tif (!response.data.errmsg) {\r\n\t\t\t\t\tconsole.log('successful signup')\r\n\t\t\t\t\tthis.setState({ //redirect to login page\r\n\t\t\t\t\t\tredirectTo: '/login'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('username already taken')\r\n\t\t\t\t}\r\n\t\t\t}).catch(error => {\r\n\t\t\t\tconsole.log('signup error: ')\r\n\t\t\t\tconsole.log(error)\r\n\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tif (this.state.redirectTo) {\r\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\r\n        } else {\r\n\t\treturn (\r\n\t\t\t<div className=\"login-style card-inner\">\r\n\t\t\t\t<h1>Sign Up</h1>\r\n\t\t\t\t<form method=\"POST\">\r\n\t\t\t\t\t<input type=\"text\" name=\"username\" placeholder=\"Username\" required=\"required\"\r\n\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\tonChange={this.handleChange} />\r\n\t\t\t\t\t<input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"required\"\r\n\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary btn-block btn-large\" name value=\"Login\" onClick={this.handleSubmit}>Signup</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\my_project\\\\My_CV\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\my_project\\\\My_CV\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.state = {\n      username: '',\n      password: '',\n      redirectTo: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      console.log('handleSubmit');\n      axios.post('/users/login', {\n        username: this.state.username,\n        password: this.state.password\n      }).then(function (response) {\n        console.log('login response: ');\n        console.log(response);\n\n        if (response.status === 200) {\n          // update App.js state\n          _this2.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          }); // update the state to redirect to home\n\n\n          _this2.setState({\n            redirectTo: '/'\n          });\n        }\n      }).catch(function (error) {\n        console.log('login error: ');\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectTo) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: \"login-style card-inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"Login\"), React.createElement(\"form\", {\n          method: \"POST\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          required: \"required\",\n          value: this.state.username,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          required: \"required\",\n          value: this.state.password,\n          onChange: this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block btn-large\",\n          name: true,\n          value: \"Login\",\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"Login\")));\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["D:\\my_project\\My_CV\\src\\components\\Login.js"],"names":["React","Component","axios","Redirect","Login","state","username","password","redirectTo","handleSubmit","bind","handleChange","event","setState","target","name","value","preventDefault","console","log","post","then","response","status","props","updateUser","loggedIn","data","catch","error","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            redirectTo: null\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        console.log('handleSubmit')\r\n\r\n        axios\r\n            .post('/users/login', {\r\n                username: this.state.username,\r\n                password: this.state.password\r\n            })\r\n            .then(response => {\r\n                console.log('login response: ')\r\n                console.log(response)\r\n                if (response.status === 200) {\r\n                    // update App.js state\r\n                    this.props.updateUser({\r\n                        loggedIn: true,\r\n                        username: response.data.username\r\n                    })\r\n                    // update the state to redirect to home\r\n                    this.setState({\r\n                        redirectTo: '/'\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                console.log('login error: ')\r\n                console.log(error);\r\n\r\n            })\r\n    }\r\n    render() {\r\n        if (this.state.redirectTo) {\r\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\r\n        } else {\r\n            return (\r\n                <div className=\"login-style card-inner\">\r\n                    <h1>Login</h1>\r\n                    <form method=\"POST\">\r\n                        <input type=\"text\" name=\"username\" placeholder=\"Username\" required=\"required\"\r\n                            value={this.state.username}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"required\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <button type=\"submit\" className=\"btn btn-primary btn-block btn-large\" name value=\"Login\" onClick={this.handleSubmit}>Login</button>\r\n                    </form>\r\n                </div>\r\n\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}